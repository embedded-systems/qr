#include <assert.h>

typedef struct {
	unsigned short a;
	int b[2][2][2][2];
} s5;

typedef struct {
	s5 a;
} s4;

typedef struct {
	int a[3];
	char b[8];
} s3;

typedef struct {
	char a;
	s3 b[2];
	int c;
	s4 d;
} s2;

typedef struct {
	int a;
	s2 b;
} s1;

void test_array_struct() {
	s1 a[2];


	a[1].a = 0x00000001;
	a[1].b.a = 'm';
	a[1].b.b[0].a[1] = 0x00000002;
	a[1].b.b[0].a[2] = 0x00000004;
	a[1].b.b[0].b[0] = '1';
	a[1].b.b[0].b[1] = '2';
	a[1].b.b[0].b[2] = '3';
	a[1].b.b[0].b[3] = '4';
	a[1].b.b[0].b[4] = '5';
	a[1].b.b[0].b[5] = '6';
	a[1].b.b[0].b[6] = '7';
	a[1].b.b[0].b[7] = '8';
	a[1].b.b[1].a[1] = 0x00000008;
	a[1].b.b[1].a[2] = 0x00000010;
	a[1].b.b[1].b[0] = '8';
	a[1].b.b[1].b[1] = '7';
	a[1].b.b[1].b[2] = '6';
	a[1].b.b[1].b[3] = '5';
	a[1].b.b[1].b[4] = '4';
	a[1].b.b[1].b[5] = '3';
	a[1].b.b[1].b[6] = '2';
	a[1].b.b[1].b[7] = '1';
	a[1].b.c = 0x00000020;
	a[1].b.d.a.a = 0xFFFF;
	a[1].b.d.a.b[0][0][0][0] = 0x00000000;
	a[1].b.d.a.b[0][0][0][1] = 0x00000001;
	a[1].b.d.a.b[0][0][1][0] = 0x00000100;
	a[1].b.d.a.b[0][0][1][1] = 0x00000101;
	a[1].b.d.a.b[0][1][0][0] = 0x00010000;
	a[1].b.d.a.b[0][1][0][1] = 0x00010001;
	a[1].b.d.a.b[0][1][1][0] = 0x00010100;
	a[1].b.d.a.b[0][1][1][1] = 0x00010101;
	a[1].b.d.a.b[1][0][0][0] = 0x01000000;
	a[1].b.d.a.b[1][0][0][1] = 0x01000001;
	a[1].b.d.a.b[1][0][1][0] = 0x01000100;
	a[1].b.d.a.b[1][0][1][1] = 0x01000101;
	a[1].b.d.a.b[1][1][0][0] = 0x01010000;
	a[1].b.d.a.b[1][1][0][1] = 0x01010001;
	a[1].b.d.a.b[1][1][1][0] = 0x01010100;
	a[1].b.d.a.b[1][1][1][1] = 0x01010101;


	assert(a[1].a == 0x00000001);
	assert(a[1].b.a == 'm');
	assert(a[1].b.b[0].a[1] == 0x00000002);
	assert(a[1].b.b[0].a[2] == 0x00000004);
	assert(a[1].b.b[0].b[0] == '1');
	assert(a[1].b.b[0].b[1] == '2');
	assert(a[1].b.b[0].b[2] == '3');
	assert(a[1].b.b[0].b[3] == '4');
	assert(a[1].b.b[0].b[4] == '5');
	assert(a[1].b.b[0].b[5] == '6');
	assert(a[1].b.b[0].b[6] == '7');
	assert(a[1].b.b[0].b[7] == '8');
	assert(a[1].b.b[1].a[1] == 0x00000008);
	assert(a[1].b.b[1].a[2] == 0x00000010);
	assert(a[1].b.b[1].b[0] == '8');
	assert(a[1].b.b[1].b[1] == '7');
	assert(a[1].b.b[1].b[2] == '6');
	assert(a[1].b.b[1].b[3] == '5');
	assert(a[1].b.b[1].b[4] == '4');
	assert(a[1].b.b[1].b[5] == '3');
	assert(a[1].b.b[1].b[6] == '2');
	assert(a[1].b.b[1].b[7] == '1');
	assert(a[1].b.c == 0x00000020);
	assert(a[1].b.d.a.a == 0xFFFF);
	assert(a[1].b.d.a.b[0][0][0][0] == 0x00000000);
	assert(a[1].b.d.a.b[0][0][0][1] == 0x00000001);
	assert(a[1].b.d.a.b[0][0][1][0] == 0x00000100);
	assert(a[1].b.d.a.b[0][0][1][1] == 0x00000101);
	assert(a[1].b.d.a.b[0][1][0][0] == 0x00010000);
	assert(a[1].b.d.a.b[0][1][0][1] == 0x00010001);
	assert(a[1].b.d.a.b[0][1][1][0] == 0x00010100);
	assert(a[1].b.d.a.b[0][1][1][1] == 0x00010101);
	assert(a[1].b.d.a.b[1][0][0][0] == 0x01000000);
	assert(a[1].b.d.a.b[1][0][0][1] == 0x01000001);
	assert(a[1].b.d.a.b[1][0][1][0] == 0x01000100);
	assert(a[1].b.d.a.b[1][0][1][1] == 0x01000101);
	assert(a[1].b.d.a.b[1][1][0][0] == 0x01010000);
	assert(a[1].b.d.a.b[1][1][0][1] == 0x01010001);
	assert(a[1].b.d.a.b[1][1][1][0] == 0x01010100);
	assert(a[1].b.d.a.b[1][1][1][1] == 0x01010101);


}
